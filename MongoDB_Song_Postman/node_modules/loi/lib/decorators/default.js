"use strict";
var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoiDecoratorDefaultResolver = exports.LoiDecoratorDefault = void 0;
const t = require("../iots");
const tag_1 = require("../utilties//tag");
// https://github.com/teamdigitale/italia-ts-commons/blob/1688059556e3b3532a73032ab923933f0403fcc5/src/types.ts#L158
/**
 * Sets properties default values when calling t.validate() method on models
 * see https://github.com/gcanti/io-ts/issues/8
 */
class LoiDecoratorDefault extends t.Type {
    constructor(type, defaultValue, name = type.name) {
        super(name, (v) => type.is(v), (v, c) => type.validate(v !== undefined && v !== null ? v : defaultValue, c), (v) => type.encode(v));
        this.type = type;
        this.defaultValue = defaultValue;
        this._tag = 'LoiDecoratorDefault';
        this[_a] = true;
    }
}
exports.LoiDecoratorDefault = LoiDecoratorDefault;
_a = tag_1.loiTagTypeDecorator;
LoiDecoratorDefault._tag = 'LoiDecoratorDefault';
/**
 * Sets properties default values with resolver functions when calling t.validate() method on models
 * see https://github.com/gcanti/io-ts/issues/8
 */
class LoiDecoratorDefaultResolver extends t.Type {
    constructor(type, defaultValueResolver, name = type.name) {
        super(name, (v) => type.is(v), (v, c) => type.validate(v !== undefined && v !== null ? v : defaultValueResolver(), c), (v) => type.encode(v));
        this.type = type;
        this.defaultValueResolver = defaultValueResolver;
        this._tag = 'LoiDecoratorDefaultResolver';
        this[_b] = true;
    }
}
exports.LoiDecoratorDefaultResolver = LoiDecoratorDefaultResolver;
_b = tag_1.loiTagTypeDecorator;
LoiDecoratorDefaultResolver._tag = 'LoiDecoratorDefaultResolver';
//# sourceMappingURL=default.js.map