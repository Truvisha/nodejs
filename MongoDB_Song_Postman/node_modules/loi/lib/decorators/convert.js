"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoiDecoratorConvert = void 0;
const t = require("../iots");
const tag_1 = require("../utilties/tag");
class LoiDecoratorConvert extends t.Type {
    constructor(type, convert = (val) => val, guard = () => true, name = type.name) {
        super(name, (v) => type.is(v) || (guard(v) && type.is(convert(v))), (v, c) => type.validate(guard(v) ? convert(v) : v, c), (v) => type.encode(v));
        this.type = type;
        this.convert = convert;
        this.guard = guard;
        this._tag = 'LoiDecoratorConvert';
        this[_a] = true;
    }
}
exports.LoiDecoratorConvert = LoiDecoratorConvert;
_a = tag_1.loiTagTypeDecorator;
LoiDecoratorConvert._tag = 'LoiDecoratorConvert';
//# sourceMappingURL=convert.js.map